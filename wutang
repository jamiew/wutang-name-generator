#!/usr/bin/env python3
import random
import argparse
import os
from pathlib import Path

def load_words(filename):
    # resolve symlinks to find the actual script location
    script_path = Path(os.path.realpath(__file__)).parent
    filepath = script_path / filename
    with open(filepath) as f:
        return [line.strip() for line in f if line.strip()]

def generate_name(first_words, second_words):
    first = random.choice(first_words)
    second = random.choice(second_words)
    return f"{first}_{second}".lower()

def main():
    parser = argparse.ArgumentParser(description='Generate Wu-Tang style names')
    parser.add_argument('-n', '--number', type=int, default=1, help='Number of names to generate')
    args = parser.parse_args()

    first_words = load_words('first-words.txt')
    second_words = load_words('second-words.txt')

    for _ in range(args.number):
        print(generate_name(first_words, second_words))

if __name__ == '__main__':
    main()
